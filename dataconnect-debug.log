I0611 14:32:45.683287   96681 load.go:37] Reloading schema and connectors...
W0611 14:32:45.797004   96681 control.go:61] [/emulator/skillix-db-service 0185] connector "tovi-connector" has errors: connector/queries.gql:89: Field "userFirebaseUid_expr" is not defined by type "UserAnalytics_Key".
connector/queries.gql:135: Field "userFirebaseUid_expr" is not defined by type "StreakData_Key".

sources: connector/queries.gql [4399B] connector/mutations.gql [7213B] 
I0611 14:32:45.797262   96681 control.go:73] [/emulator/skillix-db-service 0185] UpdateResources(): done
Schema: sources: schema/schema.gql [15723B] 
Connector "tovi-connector": sources: connector/mutations.gql [7213B] connector/queries.gql [4399B] 
E0611 14:32:45.802024   96681 load.go:79] Could not load sources: 
Errors: connector/queries.gql:89: Field "userFirebaseUid_expr" is not defined by type "UserAnalytics_Key".
connector/queries.gql:135: Field "userFirebaseUid_expr" is not defined by type "StreakData_Key".
I0611 14:32:45.804609   96681 collector.go:107] schema extensions wrote into "/Users/lucamazzarello_/Desktop/Repositories/skillix-backend/dataconnect/.dataconnect/schema"
Generated sources: main/relation.gql [169024B] main/query.gql [44713B] main/mutation.gql [123169B] prelude.gql [71531B] main/input.gql [317092B] 
I0611 14:32:45.804666   96681 load.go:80] Finished reloading
I0611 14:32:45.806946   96681 dev.go:95] Listening on address (HTTP + gRPC): 127.0.0.1:9399
I0611 14:32:45.807593   96681 dev.go:95] Listening on address (HTTP + gRPC): [::1]:9399
I0611 14:32:47.842636   96681 migrate.go:24] Running migration SQL:
Step 1: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"
Step 2: CREATE TABLE "public"."users" ("firebase_uid" text NOT NULL, "apple_user_identifier" text NULL, "auth_provider" text NOT NULL, "created_at" timestamptz NULL, "email" text NOT NULL, "email_verified" boolean NULL, "fcm_tokens" text[] NULL, "is_active" boolean NULL, "is_deleted" boolean NULL, "last_sign_in_at" timestamptz NULL, "llm_key_insights" text[] NULL, "llm_overall_engagement_score" double precision NULL, "name" text NULL, "photo_url" text NULL, "platform" text NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("firebase_uid"))
Step 3: CREATE UNIQUE INDEX "users_email_uidx" ON "public"."users" ("email")
Step 4: CREATE TABLE "public"."learning_plans" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "user_firebase_uid" text NOT NULL, "created_at" timestamptz NULL, "daily_time_minutes" integer NOT NULL, "flexibility_options" text[] NULL, "generated_at" timestamptz NOT NULL, "generated_by" text NOT NULL, "milestones" text[] NOT NULL, "progress_metrics" text[] NOT NULL, "skill_level_target" text NOT NULL, "skill_name" text NOT NULL, "total_duration_weeks" integer NOT NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "learning_plans_user_firebase_uid_fkey" FOREIGN KEY ("user_firebase_uid") REFERENCES "public"."users" ("firebase_uid") ON DELETE CASCADE)
Step 5: CREATE INDEX "learning_plans_userFirebaseUid_idx" ON "public"."learning_plans" ("user_firebase_uid")
Step 6: CREATE TABLE "public"."plan_sections" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "learning_plan_id" uuid NOT NULL, "created_at" timestamptz NULL, "description" text NULL, "order" integer NOT NULL, "title" text NOT NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "plan_sections_learning_plan_id_fkey" FOREIGN KEY ("learning_plan_id") REFERENCES "public"."learning_plans" ("id") ON DELETE CASCADE)
Step 7: CREATE INDEX "plan_sections_learningPlanId_idx" ON "public"."plan_sections" ("learning_plan_id")
Step 8: CREATE TABLE "public"."day_contents" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "section_id" uuid NOT NULL, "completion_status" text NULL, "created_at" timestamptz NULL, "day_number" integer NOT NULL, "focus_area" text NOT NULL, "generated_at" timestamptz NULL, "generated_by" text NULL, "is_action_day" boolean NOT NULL, "objectives" text[] NOT NULL, "title" text NOT NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "day_contents_section_id_fkey" FOREIGN KEY ("section_id") REFERENCES "public"."plan_sections" ("id") ON DELETE CASCADE)
Step 9: CREATE INDEX "day_contents_sectionId_idx" ON "public"."day_contents" ("section_id")
Step 10: CREATE TABLE "public"."action_task_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "day_content_id" uuid NOT NULL, "challenge_description" text NOT NULL, "created_at" timestamptz NULL, "difficulty_adaptation" text NULL, "real_world_context" text NOT NULL, "success_criteria" text[] NOT NULL, "time_estimate_string" text NOT NULL, "tips" text[] NOT NULL, "title" text NOT NULL, "tovi_motivation" text NOT NULL, "updated_at" timestamptz NULL, "xp" integer NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "action_task_items_day_content_id_fkey" FOREIGN KEY ("day_content_id") REFERENCES "public"."day_contents" ("id") ON DELETE CASCADE)
Step 11: CREATE INDEX "action_task_items_dayContentId_idx" ON "public"."action_task_items" ("day_content_id")
Step 12: CREATE UNIQUE INDEX "action_task_items_dayContentId_uidx" ON "public"."action_task_items" ("day_content_id")
Step 13: CREATE TABLE "public"."action_step_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "action_task_item_id" uuid NOT NULL, "description" text NOT NULL, "estimated_time_seconds" integer NOT NULL, "is_completed" boolean NOT NULL, "step_number" integer NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "action_step_items_action_task_item_id_fkey" FOREIGN KEY ("action_task_item_id") REFERENCES "public"."action_task_items" ("id") ON DELETE CASCADE)
Step 14: CREATE INDEX "action_step_items_actionTaskItemId_idx" ON "public"."action_step_items" ("action_task_item_id")
Step 15: CREATE TABLE "public"."chat_sessions" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "user_firebase_uid" text NOT NULL, "created_at" timestamptz NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "chat_sessions_user_firebase_uid_fkey" FOREIGN KEY ("user_firebase_uid") REFERENCES "public"."users" ("firebase_uid") ON DELETE CASCADE)
Step 16: CREATE INDEX "chat_sessions_userFirebaseUid_idx" ON "public"."chat_sessions" ("user_firebase_uid")
Step 17: CREATE TABLE "public"."chat_messages" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "chat_session_id" uuid NOT NULL, "content" text NOT NULL, "created_at" timestamptz NULL, "role" text NOT NULL, "updated_at" timestamptz NULL, "user_firebase_uid" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "chat_messages_chat_session_id_fkey" FOREIGN KEY ("chat_session_id") REFERENCES "public"."chat_sessions" ("id") ON DELETE CASCADE)
Step 18: CREATE INDEX "chat_messages_chatSessionId_idx" ON "public"."chat_messages" ("chat_session_id")
Step 19: CREATE TABLE "public"."exercise_details_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "exercise_type" text NOT NULL, "instructions" text NOT NULL, PRIMARY KEY ("id"))
Step 20: CREATE TABLE "public"."quiz_content_details" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "description" text NOT NULL, PRIMARY KEY ("id"))
Step 21: CREATE TABLE "public"."content_block_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "day_content_id" uuid NOT NULL, "exercise_details_id" uuid NULL, "quiz_details_id" uuid NULL, "block_type" text NOT NULL, "created_at" timestamptz NULL, "estimated_minutes" integer NULL, "order" integer NOT NULL, "title" text NOT NULL, "updated_at" timestamptz NULL, "xp" integer NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "content_block_items_day_content_id_fkey" FOREIGN KEY ("day_content_id") REFERENCES "public"."day_contents" ("id") ON DELETE CASCADE, CONSTRAINT "content_block_items_exercise_details_id_fkey" FOREIGN KEY ("exercise_details_id") REFERENCES "public"."exercise_details_data" ("id") ON DELETE SET NULL, CONSTRAINT "content_block_items_quiz_details_id_fkey" FOREIGN KEY ("quiz_details_id") REFERENCES "public"."quiz_content_details" ("id") ON DELETE SET NULL)
Step 22: CREATE INDEX "content_block_items_dayContentId_idx" ON "public"."content_block_items" ("day_content_id")
Step 23: CREATE INDEX "content_block_items_exerciseDetailsId_idx" ON "public"."content_block_items" ("exercise_details_id")
Step 24: CREATE INDEX "content_block_items_quizDetailsId_idx" ON "public"."content_block_items" ("quiz_details_id")
Step 25: CREATE TABLE "public"."enrollments" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "learning_plan_id" uuid NOT NULL, "user_firebase_uid" text NOT NULL, "created_at" timestamptz NULL, "enrollment_date" timestamptz NULL, "status" text NOT NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "enrollments_learning_plan_id_fkey" FOREIGN KEY ("learning_plan_id") REFERENCES "public"."learning_plans" ("id") ON DELETE CASCADE, CONSTRAINT "enrollments_user_firebase_uid_fkey" FOREIGN KEY ("user_firebase_uid") REFERENCES "public"."users" ("firebase_uid") ON DELETE CASCADE)
Step 26: CREATE INDEX "enrollments_learningPlanId_idx" ON "public"."enrollments" ("learning_plan_id")
Step 27: CREATE INDEX "enrollments_userFirebaseUid_idx" ON "public"."enrollments" ("user_firebase_uid")
Step 28: CREATE TABLE "public"."main_content_items" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "day_content_id" uuid NOT NULL, "audio_duration_seconds" integer NULL, "audio_url" text NULL, "created_at" timestamptz NULL, "estimated_read_time_minutes" integer NULL, "fun_fact" text NOT NULL, "text_content" text NOT NULL, "title" text NOT NULL, "updated_at" timestamptz NULL, "xp" integer NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "main_content_items_day_content_id_fkey" FOREIGN KEY ("day_content_id") REFERENCES "public"."day_contents" ("id") ON DELETE CASCADE)
Step 29: CREATE INDEX "main_content_items_dayContentId_idx" ON "public"."main_content_items" ("day_content_id")
Step 30: CREATE UNIQUE INDEX "main_content_items_dayContentId_uidx" ON "public"."main_content_items" ("day_content_id")
Step 31: CREATE TABLE "public"."key_concepts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "main_content_item_id" uuid NOT NULL, "concept" text NOT NULL, "emoji" text NULL, "explanation" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "key_concepts_main_content_item_id_fkey" FOREIGN KEY ("main_content_item_id") REFERENCES "public"."main_content_items" ("id") ON DELETE CASCADE)
Step 32: CREATE INDEX "key_concepts_mainContentItemId_idx" ON "public"."key_concepts" ("main_content_item_id")
Step 33: CREATE TABLE "public"."pedagogical_analyses" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "learning_plan_id" uuid NOT NULL, "assessment_strategies" text[] NOT NULL, "cognitive_load_assessment" text NOT NULL, "created_at" timestamptz NULL, "effectiveness_score" double precision NOT NULL, "engagement_potential" double precision NOT NULL, "generated_by" text NOT NULL, "improvement_areas" text[] NOT NULL, "recommendations" text[] NOT NULL, "scaffolding_quality" text NOT NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "pedagogical_analyses_learning_plan_id_fkey" FOREIGN KEY ("learning_plan_id") REFERENCES "public"."learning_plans" ("id") ON DELETE CASCADE)
Step 34: CREATE INDEX "pedagogical_analyses_learningPlanId_idx" ON "public"."pedagogical_analyses" ("learning_plan_id")
Step 35: CREATE UNIQUE INDEX "pedagogical_analyses_learningPlanId_uidx" ON "public"."pedagogical_analyses" ("learning_plan_id")
Step 36: CREATE TABLE "public"."learning_objective_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "pedagogical_analysis_id" uuid NOT NULL, "measurable" boolean NOT NULL, "objective" text NOT NULL, "order" integer NOT NULL, "timeframe" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "learning_objective_data_pedagogical_analysis_id_fkey" FOREIGN KEY ("pedagogical_analysis_id") REFERENCES "public"."pedagogical_analyses" ("id") ON DELETE CASCADE)
Step 37: CREATE INDEX "learning_objective_data_pedagogicalAnalysisId_idx" ON "public"."learning_objective_data" ("pedagogical_analysis_id")
Step 38: CREATE TABLE "public"."content_optimization_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "details" text NOT NULL, "expected_impact" text NOT NULL, "suggestion_type" text NOT NULL, PRIMARY KEY ("id"))
Step 39: CREATE TABLE "public"."optimal_learning_time_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "confidence" double precision NOT NULL, "reasoning" text NOT NULL, "time_of_day" text NOT NULL, PRIMARY KEY ("id"))
Step 40: CREATE TABLE "public"."streak_maintenance_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "confidence" double precision NOT NULL, "recommendation" text NOT NULL, "timing" text NOT NULL, PRIMARY KEY ("id"))
Step 41: CREATE TABLE "public"."user_analytics" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "content_optimization_id" uuid NULL, "optimal_learning_time_id" uuid NULL, "streak_maintenance_analysis_id" uuid NULL, "user_firebase_uid" text NOT NULL, "created_at" timestamptz NULL, "key_insights" text[] NULL, "overall_engagement_score" double precision NULL, "updated_at" timestamptz NULL, PRIMARY KEY ("id"), CONSTRAINT "user_analytics_content_optimization_id_fkey" FOREIGN KEY ("content_optimization_id") REFERENCES "public"."content_optimization_data" ("id") ON DELETE SET NULL, CONSTRAINT "user_analytics_optimal_learning_time_id_fkey" FOREIGN KEY ("optimal_learning_time_id") REFERENCES "public"."optimal_learning_time_data" ("id") ON DELETE SET NULL, CONSTRAINT "user_analytics_streak_maintenance_analysis_id_fkey" FOREIGN KEY ("streak_maintenance_analysis_id") REFERENCES "public"."streak_maintenance_data" ("id") ON DELETE SET NULL, CONSTRAINT "user_analytics_user_firebase_uid_fkey" FOREIGN KEY ("user_firebase_uid") REFERENCES "public"."users" ("firebase_uid") ON DELETE CASCADE)
Step 42: CREATE INDEX "user_analytics_contentOptimizationId_idx" ON "public"."user_analytics" ("content_optimization_id")
Step 43: CREATE INDEX "user_analytics_optimalLearningTimeId_idx" ON "public"."user_analytics" ("optimal_learning_time_id")
Step 44: CREATE INDEX "user_analytics_streakMaintenanceAnalysisId_idx" ON "public"."user_analytics" ("streak_maintenance_analysis_id")
Step 45: CREATE INDEX "user_analytics_userFirebaseUid_idx" ON "public"."user_analytics" ("user_firebase_uid")
Step 46: CREATE UNIQUE INDEX "user_analytics_userFirebaseUid_uidx" ON "public"."user_analytics" ("user_firebase_uid")
Step 47: CREATE TABLE "public"."learning_pattern_data" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "user_analytics_id" uuid NOT NULL, "confidence_score" double precision NOT NULL, "details" text NOT NULL, "pattern_type" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "learning_pattern_data_user_analytics_id_fkey" FOREIGN KEY ("user_analytics_id") REFERENCES "public"."user_analytics" ("id") ON DELETE CASCADE)
Step 48: CREATE INDEX "learning_pattern_data_userAnalyticsId_idx" ON "public"."learning_pattern_data" ("user_analytics_id")
Step 49: CREATE TABLE "public"."learning_plan_daily_activity_templates" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "learning_plan_id" uuid NOT NULL, "activity_type" text NOT NULL, "description" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "learning_plan_daily_activity_templates_learning_plan_id_fkey" FOREIGN KEY ("learning_plan_id") REFERENCES "public"."learning_plans" ("id") ON DELETE CASCADE)
Step 50: CREATE INDEX "learning_plan_daily_activity_templates_learningPlanId_idx" ON "public"."learning_plan_daily_activity_templates" ("learning_plan_id")
Step 51: CREATE TABLE "public"."learning_plan_resources" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "learning_plan_id" uuid NOT NULL, "resource_type" text NOT NULL, "title" text NOT NULL, "url" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "learning_plan_resources_learning_plan_id_fkey" FOREIGN KEY ("learning_plan_id") REFERENCES "public"."learning_plans" ("id") ON DELETE CASCADE)
Step 52: CREATE INDEX "learning_plan_resources_learningPlanId_idx" ON "public"."learning_plan_resources" ("learning_plan_id")
Step 53: CREATE TABLE "public"."match_pairs" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "exercise_id" uuid NOT NULL, "correct_answer" text NOT NULL, "prompt" text NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "match_pairs_exercise_id_fkey" FOREIGN KEY ("exercise_id") REFERENCES "public"."exercise_details_data" ("id") ON DELETE CASCADE)
Step 54: CREATE INDEX "match_pairs_exerciseId_idx" ON "public"."match_pairs" ("exercise_id")
Step 55: CREATE TABLE "public"."notifications" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "user_firebase_uid" text NOT NULL, "created_at" timestamptz NULL, "is_read" boolean NOT NULL, "message" text NOT NULL, "scheduled_time" timestampt
W0611 14:32:48.110983   96681 control.go:61] [/emulator/skillix-db-service 9a15] connector "tovi-connector" has errors: connector/queries.gql:89: Field "userFirebaseUid_expr" is not defined by type "UserAnalytics_Key".
connector/queries.gql:135: Field "userFirebaseUid_expr" is not defined by type "StreakData_Key".

sources: connector/mutations.gql [7213B] connector/queries.gql [4399B] 
I0611 14:32:48.111014   96681 control.go:73] [/emulator/skillix-db-service 9a15] UpdateResources(): done
Schema: sources: schema/schema.gql [15723B] 
Connector "tovi-connector": sources: connector/mutations.gql [7213B] connector/queries.gql [4399B] 
I0611 14:32:48.111029   96681 service.go:147] [/emulator/skillix-db-service 9a15] while configuring to server.Settings{ConnectionString:"dbname='skillix-db-database' host='127.0.0.1' port='5432' sslmode='disable' dbname='skillix-db-database'", MaxOpenConnection:1, UseDummy:false, EnableGoogleMLIntegration:false, SchemaValidationMode:""}, failed to reload last live sources: 
Errors: connector/queries.gql:89: Field "userFirebaseUid_expr" is not defined by type "UserAnalytics_Key".
connector/queries.gql:135: Field "userFirebaseUid_expr" is not defined by type "StreakData_Key".
